/*!
 * GIT: https://github.com/shrekshrek/jstween
 **/

!function(e,t){var i;"object"==typeof exports&&"undefined"!=typeof module?(i=require("jstween"),module.exports=t(i)):"function"==typeof define&&define.amd?define(["jstween"],t):e.JP=t(e.JT)}(this,function(h){"use strict";function o(e){e=/(^[a-zA-Z]\w*|)(\+=|-=|)(\d*\.\d*|\d*)/.exec(e);return{label:e[1],ext:e[2],num:parseFloat(e[3])}}var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},s=[],a=[],c=!1,l=0;function u(){var e=s.length;if(0===e)c=!1;else{var t=h.now(),i=t-l;l=t,500<i&&(i=33),a=s.slice(0);for(var n=0;n<e;n++)a[n]._update(i);r(u)}}const f=/(t|m|b|)(t|m|b|)(\+|-|)(\d+\.\d+|\d+|)(rem|px|%|vw|vh|)/i;function o(e,t){var i=document.scrollingElement.scrollTop,n=window.innerHeight,t=t.getBoundingClientRect(),o=0,r=f.exec(e),s=("t"==r[1]&&(o+=t.top+i),"m"==r[1]&&(o+=t.top+i+t.height/2),"b"==r[1]&&(o+=t.top+i+t.height),"t"==r[2]&&(o-=0),"m"==r[2]&&(o-=n/2),"b"==r[2]&&(o-=n),i=r[3]+r[4],Math.round(1e3*i)/1e3);switch(r[5]){case"rem":s*=h.getRem();break;case"vw":s*=h.getVw();break;case"vh":s*=h.getVh()}if(r[1]&&r[2])o-=s;else{if(r[1]||r[2])throw"from or to value error!!!";o+=s}return{origin:e,value:o}}function n(){this.initialize.apply(this,arguments)}return Object.assign(n.prototype,{initialize:function(e,t,i){for(var n in this.el=this.anchor="string"==typeof e?document.querySelector(e):e,i.anchor&&(this.anchor=document.querySelector(i.anchor),delete i.anchor),this.from=o(t.from,this.anchor),this.to=o(i.to,this.anchor),delete t.from,delete i.to,this.origin={},t)this.origin[n]=h.get(this.el,n);i.isPlaying=!1,this.tween=h.fromTo(e,1,t,i),s.push(this),c||(l=h.now(),c=!0,r(u))},_reset(){for(var e in this.origin)h.set(this.el,this.origin[e]);this.from=o(this.from.origin,this.anchor),this.to=o(this.to.origin,this.anchor)},_update:function(){var e=(document.scrollingElement.scrollTop-this.from.value)/(this.to.value-this.from.value);this.tween.seek(e)},kill:function(){var e=s.indexOf(this);-1!==e&&s.splice(e,1),this.tween.kill(),this.el=this.anchor=this.origin=null}}),{create:function(e,t,i){return new n(e,t,i)},reset:function(){for(var e=s.length,t=0;t<e;t++)s[t]._reset()}}});